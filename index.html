<!DOCTYPE html><html lang='en'><head><meta charset='utf-8'><title>Varjo projects</title><link href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH' crossorigin='anonymous'></head><body style='background-color:rgb(228, 228, 228);'><nav class='navbar navbar-expand-sm bg-dark navbar-dark fixed-top'><div class='container-fluid'><a class='navbar-brand' href='https://github.com/varjodev/varjodev.github.io'>Projects page</a><ul class='navbar-nav'><button type="button" class="btn btn-primary mx-1 filter-btn" value="ALL" onclick="projectFilter('ALL')">All</button><button type="button" class="btn btn-secondary mx-1 filter-btn" value="IMAGE" onclick="projectFilter('IMAGE')">Image</button><button type="button" class="btn btn-secondary mx-1 filter-btn" value="AUDIO" onclick="projectFilter('AUDIO')">Audio</button><button type="button" class="btn btn-secondary mx-1 filter-btn" value="WEB" onclick="projectFilter('WEB')">Web</button><button type="button" class="btn btn-secondary mx-1 filter-btn" value="MICROCONTROLLERS" onclick="projectFilter('MICROCONTROLLERS')">Microcontrollers</button></ul></div></nav><div class='container my-4'>&nbsp;</div><div class='container my-3 p-3 rounded' style='background-color:rgb(255, 255, 255);'><div class='row-fluid m-3 project'><div class='row project-title'><h3>Light Control Wirelessly With Hand</h3><p class='tags'><span class='badge rounded-pill bg-secondary mx-1'>Image</span><span class='badge rounded-pill bg-secondary mx-1'>Microcontrollers</span><span class='badge rounded-pill bg-secondary mx-1'>Http</span><span class='badge rounded-pill bg-secondary mx-1'>Python</span><span class='badge rounded-pill bg-secondary mx-1'>C</span></p></div><div class='row'><div class='col-5' style='word-wrap:break-word';><div class='container mt-auto'><p class='text-secondary'><small>Wouldn't it be cool to control a light just with your hand?</small></p></div><p>This project uses an ESP32-CAM running an HTTP server to get video stream and control the camera wirelessly in a local WLAN. Program running on a PC retrieves the video stream with Python and OpenCV, and displays the stream with a potential to apply some processing. For every frame, <a href='https://github.com/google-ai-edge/mediapipe'> MediaPipe</a> library is used to detect the the hand and finger locations, from which fingers are counted by using relative distances to specific points in the detected hand. The number of fingers is subsequently used to control a Philips Hue light wirelessly through WLAN. <br><br>The more fingers, the brighter the light.</p><div class='container'><p class='text-secondary'><small> Notes: The camera is cheap and the quality is bad in dark conditions, so flash is used to improve hand detection. For dark conditions, infrared could also be considered in the future.</small></p><a href='https://github.com/varjodev/hand-light-control'> Link to repo </a></div></div><div class='col-1'></div><div class='col-5'><div class='ratio ratio-1x1'><iframe src='docs/assets/vid/image_finger_light_control.webm' allowfullscreen></iframe></div><p>Controlling a light with hand (video taken with a phone camera)</p></div></div><hr/></div><div class='row-fluid m-3 project'><div class='row project-title'><h3>Test Pattern Generator</h3><p class='tags'><span class='badge rounded-pill bg-secondary mx-1'>Image</span><span class='badge rounded-pill bg-secondary mx-1'>Python</span></p></div><div class='row'><div class='col-5' style='word-wrap:break-word';><div class='container mt-auto'><p class='text-secondary'><small>Pixel precise test charts for measuring optical systems or just for fun</small></p></div><p>Many publicly available test charts are of low quality, and the high quality ones are expensive. Sometimes you might also want to use some specific shapes for certain applications or you want to have pixel perfect accuracy.
This program uses Python, Numpy and simple math to generate all kinds of shapes and patters to form test charts. The elementary shapes can be combined and they can be made for different color channels.</p><div class='container'><a href='https://github.com/varjodev/test-pattern-generator'> Link to repo </a></div></div><div class='col-1'></div><div class='col-5'><img src='docs/assets/img/test_pattern_generator_example.png' class='img-fluid'><p>Example patterns from the generator</p></div></div><hr/></div><div class='row-fluid m-3 project'><div class='row project-title'><h3>Yen Converter with 万 (man)</h3><p class='tags'><span class='badge rounded-pill bg-secondary mx-1'>General</span><span class='badge rounded-pill bg-secondary mx-1'>Python</span></p></div><div class='row'><div class='col-5' style='word-wrap:break-word';><div class='container mt-auto'><p class='text-secondary'><small>Are you tired of typing all the zeros in 5546万円 when you want to convert currencies from yen?</small></p></div><p>This project is a convenient command line tool to convert yen to different currencies (tested mainly with euro). Typing long numbers with many zeros to google is inconvenient, and Google has problems with Japanese letters such as 万 when combined with a additional words to convert it to some other currency.
This tool parses inputs like '55man4sen3hyaku67' as 554367 and can directly convert it to some other currency. It also has capabilities to directly give a yearly->monthly amount of the target currency and the other way around. Naturally it can also convert other currencies to yen. It uses an exchange rate that is fetched from an API if a recent rate for that exchange pair isn't found in the local rates.csv file.</p><div class='container'><a href='https://github.com/varjodev/yen-converter'> Link to repo </a></div></div><div class='col-1'></div><div class='col-5'><div class='container border bg-dark text-white p-3'><samp>>> y2e 55man<br><br>=== Currency converter (¥->€) | 2024-09-23 23:08 ===<br>Rate (1¥ -> €) 0.0062071957<br>Inverse rate (1€ -> ¥): 161.1033465563201<br><br>550000.00 jpy  (55万円) -> 3413.96 eur</samp><hr/><samp>>> y2e 500man monthly<br><br>=== Currency converter (¥->€) | 2024-09-23 23:08 ===<br>Rate (1¥ -> €) 0.0062071957<br>Inverse rate (1€ -> ¥): 161.1033465563201<br><br>5000000.00 jpy  (500万円) -> 31035.98 eur<br><br>Monthly: 2586.33 eur</samp></div><p>Sample output (y2e -> yen to euro)</p></div></div><hr/></div></div><div class='container my-3 p-3 rounded' style='background-color:rgb(255, 255, 255);'><div class='row-fluid m-3'><div class='row mb-3'><h3> Other projects and work </h3><p>(more details can be provided on request)</p></div><div class='row mb-3'><div class='col-5 project'><div class='row project-title'><h5>Master's thesis on learning-based methods in computer generated holography</h5><p class='tags'><span class='badge rounded-pill bg-secondary mx-1'>Image</span><span class='badge rounded-pill bg-secondary mx-1'>Computer generated holography</span></p></div><p><a href='https://trepo.tuni.fi/handle/10024/153114'>Link here</a></p> </div><div class='col-1'></div><div class='col-5 project'><div class='row project-title'><h5>Bachelor's thesis: Laser scanned real life environment to a VR App</h5><p class='tags'><span class='badge rounded-pill bg-secondary mx-1'>Image</span><span class='badge rounded-pill bg-secondary mx-1'>Vr</span><span class='badge rounded-pill bg-secondary mx-1'>3d</span></p></div><p><a href='https://trepo.tuni.fi/handle/123456789/27474'>Link here</a></p> </div></div><hr/><div class='row mb-3'><div class='col-5 project'><div class='row project-title'><h5>Random scene generator with light field rendering (Python, Blender API)</h5><p class='tags'><span class='badge rounded-pill bg-secondary mx-1'>Image</span></p></div><p>Can generate an arbitrarily randomized 3D scene with randomized object shapes, textures, locations, lightnings etc. Also can render light fields.</p> </div><div class='col-1'></div><div class='col-5 project'><div class='row project-title'><h5>Temperature controlled servo</h5><p class='tags'><span class='badge rounded-pill bg-secondary mx-1'>Microcontrollers</span><span class='badge rounded-pill bg-secondary mx-1'>C</span></p></div><p>Microcontroller reads sensor input from a temperature sensor and drives a servo along with an RGB LED with PWM. The sensor dips in cold water when the temperature rises above a certain threshold, and comes up when below a certain threshold. Also, the LED is red when it's hot and blue when it's cold with a gradient in between. (See gallery)</p> </div></div><hr/><div class='row mb-3'><div class='col-5 project'><div class='row project-title'><h5>PWM tune and vibrato with microcontroller timers</h5><p class='tags'><span class='badge rounded-pill bg-secondary mx-1'>Microcontrollers</span><span class='badge rounded-pill bg-secondary mx-1'>Audio</span><span class='badge rounded-pill bg-secondary mx-1'>C</span></p></div><p>PWM is used to send square wave signals with different frequencies to a speaker. To play one note, the half period of a note with frequency in hz is calculated in microseconds and the signal is alternated between high and low with that time interval. Additionally the frequency is varied in a specific way to create a vibrato effect. Sending two PWM signals of different frequencies simulatenously was experimented with the C code, but the used microcontroller might be too slow for the (inefficient) method I came up with. A self-soldered board with LM386 is used to amplify the signal. (See Gallery)</p> </div><div class='col-1'></div><div class='col-5 project'><div class='row project-title'><h5>Object tracking led strip</h5><p class='tags'><span class='badge rounded-pill bg-secondary mx-1'>Microcontrollers</span><span class='badge rounded-pill bg-secondary mx-1'>C</span></p></div><p>Ultasound is used to find the distance to some object along a led strip. Using the distance and the led strip properties, the location of an object (e.g. hand) can be mapped down to an LED index. A buffer of recent indices is kept and LEDs are lit around the location, with brightness gradually decreasing on older indices. Hue is looped over it's range over time and converted to RGB values to create a color changing effect. (See Gallery)</p> </div></div><hr/><div class='row mb-3'><div class='col-5 project'><div class='row project-title'><h5>Light Field Viewer (Python, Numpy, OpenCV)</h5><p class='tags'><span class='badge rounded-pill bg-secondary mx-1'>Image</span><span class='badge rounded-pill bg-secondary mx-1'>Light field</span></p></div><p>Takes in a light field (stack of images taken from slightly different locations) and visualizes them in multiple ways. For example moving between views in an x,y grid or refocusing.</p> </div><div class='col-1'></div><div class='col-5 project'><div class='row project-title'><h5>Camera-lens-display optical measuring system (Python)</h5><p class='tags'><span class='badge rounded-pill bg-secondary mx-1'>Image</span><span class='badge rounded-pill bg-secondary mx-1'>Python</span><span class='badge rounded-pill bg-secondary mx-1'>Cameras</span></p></div><p>Program that integrates these three components into one whole. Can calibrate the lens and camera with regards to the display, measure PSFs, capture datasets etc. Implements things such as sharpness measuring algorithms and auto-focus, exposure calibration methods, mapping camera sensor values to display values, finding the scaling between the display image and sensor image. Also a GUI with all these components integrated for easy visual inspection.</p> </div></div><hr/><div class='row mb-3'><div class='col-5 project'><div class='row project-title'><h5>VR media player over HTTP or sockets (C#, Unity)</h5><p class='tags'><span class='badge rounded-pill bg-secondary mx-1'>Image</span><span class='badge rounded-pill bg-secondary mx-1'>Vr</span><span class='badge rounded-pill bg-secondary mx-1'>C#</span></p></div><p>VR apps for playing videos over HTTP API or receiving image bytes through sockets etc.</p> </div><div class='col-1'></div><div class='col-5 project'><div class='row project-title'><h5>This project page</h5><p class='tags'><span class='badge rounded-pill bg-secondary mx-1'>Web</span><span class='badge rounded-pill bg-secondary mx-1'>Python</span><span class='badge rounded-pill bg-secondary mx-1'>Ffmpeg</span><span class='badge rounded-pill bg-secondary mx-1'>Javascript</span></p></div><p>Using bootstrap for minimalistic and clean style, Python for generating the HTML document from a JSON data, JavaScript to interactively filter the projects, ffmpeg to convert videos to more favourable format.</p> </div></div><hr/></div></div><div class='container my-3 p-3 rounded' style='background-color:rgb(255, 255, 255);'><div class='row-fluid m-3'><div class='row mb-3'><h3> Misc gallery </h3></div><div class='row mb-3'><div class='col-5'><img src='docs/assets/img/esp32-cam.jpg' class='img-fluid'><p>ESP32-CAM, small WiFi capable microcontroller with a camera</p></div><div class='col-1'></div><div class='col-5'><div class='ratio ratio-1x1'><iframe src='docs/assets/vid/mcu_tune.webm' allowfullscreen></iframe></div><p>Familiar tune using PWM square waves with microcontroller timers. Including a self-made amplifier board with LM386</p></div><hr/><div class='row mb-3'><div class='col-5'><div class='ratio ratio-1x1'><iframe src='docs/assets/vid/mcu_temperature_servo.webm' allowfullscreen></iframe></div><p>Servo controlled by temperature sensor</p></div><div class='col-1'></div><div class='col-5'><div class='ratio ratio-1x1'><iframe src='docs/assets/vid/mcu_tracking_led_strip.webm' allowfullscreen></iframe></div><p>Ultrasound hand tracking led strip with looping hue</p></div><hr/><div class='row mb-3'><div class='col-5'><div class='ratio ratio-1x1'><iframe src='docs/assets/vid/simulation_signal_correlationdiff.webm' allowfullscreen></iframe></div><p>2D Sine signal cross-correlation coefficient and square difference. For visualisation purposes, the cyan signal with varying frequency is being matched to the red one with fixed frequency, where white and black colors mean that the signals are in phase.</p></div><div class='col-1'></div><div class='col-5'><div class='ratio ratio-1x1'><iframe src='docs/assets/vid/simulation_sharpness.webm' allowfullscreen></iframe></div><p>Comparison of different sharpness measuring algorithms for images captured at 1-5 diopters</p></div><hr/></div></div><script src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js' integrity='sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz' crossorigin='anonymous'></script>

<script>
            function projectFilter(filter_tag) {
                var x, i, j, tags, tag_found;
                x = document.getElementsByClassName("project");
                for (i = 0; i < x.length; i++){
                    tag_found = 0;
                    if (filter_tag=="ALL"){
                    tag_found = 1;
                    }
                    // console.log(x[i].getElementsByClassName("project-title")[0]);
                    tags = x[i].getElementsByClassName("project-title")[0].getElementsByClassName("tags")[0].getElementsByClassName("badge");
                    for (j=0; j < tags.length; j++){
                        if (tags[j].textContent.toUpperCase() == filter_tag){
                        tag_found = 1;}
                    }
                    if (tag_found == 1) {
                        x[i].classList.remove("d-none");
                    }
                    else {
                        x[i].classList.add("d-none");
                    }
                }
                btns = document.getElementsByClassName("filter-btn");
                for (i = 0; i < btns.length; i++){
                    if (btns[i].value == filter_tag){
                    btns[i].classList.remove("btn-secondary");
                    btns[i].classList.add("btn-primary");
                    }
                    else{
                        btns[i].classList.remove("btn-primary");
                        btns[i].classList.add("btn-secondary");
                    }
                }
            }
            </script></body></html>